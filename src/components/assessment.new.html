<div ng-show="page1Show">
    <es-app-textbox es-readonly="readonly" es-model="emptyModel.name" es-field="name" es-placeholder="输入考评名称"
                    es-label="考评名"></es-app-textbox>
    <es-app-lookup es-readonly="readonly" es-model="emptyModel.template" es-label="模板" es-resource="template"
                   es-columns="templateFields" es-id="templateLookup" es-value-field="name"></es-app-lookup>
    <div style="height: 250px">
        <div style="position: relative">
            <p>开始时间:</p>
            <div class="input-group">
                <date-picker ng-hide="hideStart" ng-model="startDate" style="position: absolute;top:45px;z-index: 999"
                             on-date-selected="closeStartPop()"></date-picker>
                <input type="text" class="form-control" ng-model="startDate">
                <span class="input-group-addon" ng-click="openStart()"><span
                        class="glyphicon glyphicon-calendar"></span></span>
            </div>
        </div>

        <div style="position: relative">
            <p>结束时间:</p>
            <div class="input-group">
                <date-picker ng-hide="hideEnd" ng-model="endedDate" style="position: absolute;top:45px;z-index: 999"
                             on-date-selected="closeEndPop()"></date-picker>
                <input type="text" class="form-control" ng-model="endedDate">
                <span class="input-group-addon" ng-click="openEnd()"><span class="glyphicon glyphicon-calendar"></span></span>
            </div>
        </div>
    </div>

    <div>
        <button ng-click="next()" type="button" class="btn btn-primary">
            <span class="glyphicon glyphicon-share-alt"></span>
            <span class="es-icon-button-text">下一步</span>
        </button>
    </div>
</div>

<div ng-show="page2Show">
    <div>
        <p>请选择考评机构:</p>
        <script type="text/ng-template" id="ministry_renderer_ass.html">
            <div ui-tree-handle class="tree-node tree-node-content">
                <table style="width: 100%;cursor: pointer;">
                    <tr>
                        <td style="width: 20px;padding: 0px 5px 0px 5px;">
                            <span ng-if="item.ministries && item.ministries.length > 0" ng-click="toggle(this)"
                                  class="glyphicon" ng-class="{'glyphicon-chevron-right': collapsed,
												   'glyphicon-chevron-down': !collapsed
												  }" style="color: #333;font-size:12px;">
                            </span>
                        </td>
                        <td>
                            <input type="checkbox" ng-change="chooseItem(item)" ng-model="item.selected"/>
                        </td>
                        <td style="width: 100%;">{{item.name}}</td>
                        </td>
                    </tr>
                </table>
            </div>
            <ul ui-tree-nodes ng-model="item.ministries" ng-class="{hidden: collapsed,displayed:!collapsed}">
                <li ng-repeat="item in item.ministries" ui-tree-node collapsed="true"
                    ng-include="'ministry_renderer_ass.html'">
                </li>
            </ul>
        </script>
        <div class="row">
            <div style="padding: 5px 5px 5px 5px;">
                <div ui-tree id="tree-root" data-drag-enabled="false">
                    <ul ui-tree-nodes ng-model="list">
                        <li ng-repeat="item in list" ui-tree-node collapsed="true" ng-include="'ministry_renderer_ass.html'"></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

</div>