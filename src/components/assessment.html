<div>
    <div ui-view>
        <div ng-hide="doFinalize">
            <div class="ds-chart-group">
                <div class="row" style="padding-bottom: 20px">
                    <div class="col-md-4">
                        <div class="panel panel-default">
                            <div class="panel-heading">TotalNumber</div>
                            <div class="panel-body">
                                <canvas id="doughnut1" class="chart chart-doughnut" chart-data="data"
                                        chart-labels="labels"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="panel panel-default">
                            <div class="panel-heading">Trend</div>
                            <div class="panel-body">
                                <canvas id="lineChart" class="chart  chart-line" chart-data="linedata"
                                        chart-labels="linelabels" chart-series="lineseries"
                                ></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="panel panel-default">
                            <div class="panel-heading">PassedNumber</div>
                            <div class="panel-body">
                                <canvas id="doughnut3" class="chart chart-doughnut" chart-data="data2"
                                        chart-labels="labels2"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="ds-data-grid">
                <es-app-datagrid es-service="assess" es-resource="assessment" es-columns="fields"
                                 es-options="options"></es-app-datagrid>
            </div>
        </div>
        <div ng-if="doFinalize">
            <es-spinner ng-if="!template"></es-spinner>
            <div ng-if="template">
                <div>
                    <button type="button" ng-click="submit()" class="btn btn-primary">
                        <span class="glyphicon glyphicon-ok"></span>
                        <span class="es-icon-button-text" >提交</span>
                    </button>
                    <button type="button" ng-click="goback()" class="btn btn-primary">
                        <span class="glyphicon glyphicon-share-alt"></span>
                        <span class="es-icon-button-text">取消</span>
                    </button>
                </div>
                <div class="es-page-section" ng-repeat="group in template.groups">
                    <div class="es-form-group">
                        <table class="table table-striped">
                            <thead>
                            <tr>
                                <th>检测分类</th>
                                <th>样本</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td class="es-form-group-cell" valign="middle">
                                    <div ng-bind="group.name" class="es-form-group-text"></div>
                                </td>
                                <td valign="top" class="es-form-group-cell"
                                    ng-repeat="specimen in group.specimens"><span
                                        class="es-form-group-title">{{specimen.number}}</span></td>
                            </tr>
                            <tr ng-repeat="row in group.rows">
                                <td class="es-form-group-cell" valign="middle">
                                    <div>{{row.item.subject}} - {{row.item.unit}}</div>
                                </td>
                                <td valign="top" class="es-form-group-cell es-form-statistic-box"
                                    ng-repeat="specimen in group.specimens">
                                    <div ng-repeat="statistic in statisticValue(row, specimen)">{{statistic}}</div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
